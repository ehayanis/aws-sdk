<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 6.11.1 (455059)"/><meta name="altitude" content="49"/><meta name="author" content="hayani.mehdi149@gmail.com"/><meta name="created" content="2017-10-21 09:46:44 +0000"/><meta name="latitude" content="48.86054443975805"/><meta name="longitude" content="2.35165304428874"/><meta name="source" content="desktop.mac"/><meta name="updated" content="2017-11-26 14:32:35 +0000"/><title>Summary</title></head><body><div><span style="font-size: 18px; font-weight: bold;">Messaging</span></div><ul><li>With Elastic Beans</li><li>Simple W</li><li>Amazon DynamoD</li><li>SNS: Simple Notification Service </li><li>SQS: Decoupling your applications … Queue !!</li></ul><div><span style="font-size: 18px; font-weight: bold;">Developer Tools </span></div><ul><li><span style="font-size: 14px;">CodeCommit: Is basically GitHub </span></li><li><span style="font-size: 14px;">CodeBuild: a way of compiling a code </span></li><li><span style="font-size: 14px;">CodeDeploy: a way of deploying a code to EC2 instances </span></li><li><span style="font-size: 14px;">CodePipeline: Keep a trace f deployment pipeline </span></li></ul><div><span style="font-size: 18px; font-weight: bold;">Desktop &amp; App Streaming </span></div><ul><li><span style="font-size: 14px;">WorkSpaces: VDI </span></li><li><span style="font-size: 14px;">AppStream 2.0: A way of streaming desktop applications to your users </span></li></ul><div><span style="font-size: 18px; font-weight: bold;">Business Productivity </span></div><ul><li><span style="font-size: 14px;">WorkDocs</span></li><li><span style="font-size: 14px;">WorkMail</span></li></ul><div><span style="font-size: 18px; font-weight: bold;">Application Services</span></div><ul><li><span style="font-size: 14px;">Step Functions: </span></li><li><span style="font-size: 14px;">SWF: Simple WorkFlow </span></li><li><span style="font-size: 14px;">API Gateway: A door for apps to access backend services </span></li><li><span style="font-size: 14px;">AppStream: Streaming dekstop application to your users </span></li><li><span style="font-size: 14px;">Elastic Transcoder: Change video to different formats</span></li><ul><li><span style="font-size: 14px;">Upload a video and transcode to fit to different devices </span></li></ul></ul><div><span style="font-size: 18px; font-weight: bold;">Migration</span></div><ul><li><span style="font-size: 14px;">Snowball: Transfert the content of disques to S3</span></li><ul><li><span style="font-size: 14px;">Copy files to snowball briefcase and send it to Amazon </span></li></ul><li>DMS: DB migration Services, No Downtime during migration </li><li>SMS: Server Migration Service </li><ul><li>Migrate to replicate VMs </li></ul></ul><div><span style="font-size: 18px; font-weight: bold;">Security &amp; Identity </span></div><ul><li><span style="font-size: 14px;">IAM: Identity &amp; Access Management</span></li><ul><li>Doesn’t need a region, it’s universal </li><li>New users have NO permissions when first created </li><li>New users are assigned Access Key ID &amp; Secret Access Keys when first created, and these are used via the APIs and Command line</li><li>Fine-grained access control to AWS resources is a feature of IAM </li><li>The AWS sign-in endpoint for SAML is <a href="https://signin.aws.amazon.comsaml">https://signin.aws.amazon.com</a>/saml </li><li>You only get to view these credentials once. If you lose them, you have to regenerate them</li><li><span style="color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, Roboto, Arial, &quot;Droid Sans&quot;, sans-serif; font-size: 16px; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; background-color: rgb(238, 238, 238); float: none;">Activate MFA on your root account: Multi Factor Authentication</span></li><ul><li>In case someone finds your email and PW, it still can’t login without a physical device:<br/>Download “Google Authenticator” and scan barcode </li></ul><li>Two access type: Programmatic (access ID, secret key ID) and AWS management console </li><li>Customize password rotation policies </li><li>Root, create/edit/Delete groups, users. Assign permissions/ groups to users, set password policy</li><li><span style="font-weight: bold;">Users, Groups, Policies Document (JSON format), Roles </span> </li></ul><li>STS: Security Token Service</li><ul><li>Grant users limited and temporary access to AWS resources. Users come from three sources:</li><ul><li>Federation (Typically Active Directory)</li><li>Federation with Mobile Apps (Google, Facebook.. Open ID to login in</li><li>Cross Account access: Let users from one AWS account access resources in another </li></ul><li>Federation: Combining or joining a list of users in one domain (such as IAM) with a list of users in another domain (AD, Facebook)</li><li><span style="color: rgb(23, 109, 25);">Identity Broker:</span> a service that allows you to take an identity from point A and join it to point B</li><li>Identity Store: Services like AD, Facebook, Google</li><li>Identities: a users of a service like Facebook etc. </li><li>Example:</li><ul><li>You are hosting a company website on some EC2 web servers in you VPC. Users of the  website must log in to the site which then authenticates against the companies active directory servers which are based on site at the companies head quarters. Your VPC is connected to your company HQ via a secure IPSEC VPN. Once logged in the user can only have access to their own S3 bucket. </li></ul><li>Solution:</li><ul><li>Develop an Identity Broker to communicate with LDAP and AWS STS </li><li>Identity Broker always authenticates with LDAP first, Then with AWS STS </li><li>Application then gets temporary access to AWS resources </li></ul></ul><li><span style="font-size: 14px;">Active Directory Federation: Through SAML and AD first then sign in to AWS using </span><span style="font-size: 14px; font-weight: bold;">AssumeRoleWithSAML</span><span style="font-size: 14px;"> API </span></li><li><span style="font-size: 14px;"><b>Web Identity Federation: </b></span></li><ul><li><span style="font-size: 14px;">Authenticate first with your identity provider</span></li><li><span style="font-size: 14px;">get your temporary security credentials </span></li><li><span style="font-size: 14px;">call AssumeRoleWithWebIdentity API then you are able to access your AWS resources </span></li></ul><li><span style="font-size: 14px;">Inspector: not included </span></li><li><span style="font-size: 14px;">Certificate Manager: Free SSL certificate </span></li><li><span style="font-size: 14px;">Directory Service: Using AD </span></li><li>WAF: Web Application Firewall, gives application level protection (cross sites scripting…) </li><li>Artifacts: Get compliance Documents (ISO..)</li></ul><div><span style="font-size: 18px; font-weight: bold;">Storage</span></div><ul><li><span style="font-size: 14px;">S3: (Simple Storage Service) Virtual Disque in the cloud </span></li><ul><li><span style="font-size: 14px;">Not used to install DB, or a computer gare (Use EBS -Elastic block storage- instead) </span></li></ul><li>Glacier: Store files and no need instant access to files </li><ul><li>Low cost, and takes 4 hours to retrieve them </li></ul><li>EFS: Elastic File Server, where possible to install DB, and share volumes with VMs </li><li>Storage Gateway </li></ul><div><span style="font-size: 18px; font-weight: bold;">Management Tools </span></div><ul><li><span style="font-size: 14px;">Cloud Watch; Monitor Performance </span></li><li><span style="font-size: 14px;">Cloud Formation: is a way of turning your physical infrastructure into code </span></li><ul><li><span style="font-size: 14px;">Describe your AWS infrastructure </span></li></ul><li>Cloud Trail: Auditing your AWS resources </li><li>Opsworks: automating Deployment using Chef</li><li><b>Config</b>: Monitors your environments and (EX: Edit security policy) sends warnings </li><li>Service Catalog: For enterprises, allows to build out what you are authorized in your organization to use</li><li>Trusted Advisor: How to fix security, customize your resource usage </li></ul><div><span style="font-size: 18px; font-weight: bold;">Databases </span></div><ul><li>RDS: Relational DB Service (MySql, SQL Server, MariaDB, PostgreSQL…)</li><li>DynamoDB: NoSQL DB</li><li>Redshift: Used for reports… amazon product</li><li>Elasticache: </li></ul><div><span style="font-size: 18px; font-weight: bold;">Networking &amp; Content Delivery</span></div><ul><li><span style="font-size: 14px;">VPC Virtual Private Cloud</span></li><li><span style="font-size: 14px;">Virtual Data Center </span></li><li><span style="font-size: 14px;">Route53: Amazon DNS Server </span></li><li><span style="font-size: 14px;">Cloud Front</span></li><li><span style="font-size: 14px;">Direct Connect</span></li><ul><li><span style="font-size: 14px;">Directly connect physical DC to AWS Cloud </span></li></ul><li>EC2: Virtual Machine in the Cloud</li><li>EC2 Container Service: (for Docker) Not in the Exam</li><li>Elastic Beanstalk </li><li>Lambda: Serverless, upload your code and your code respond with events… </li><li>Lightsail: (for people who don’t know how to use AWS) </li></ul><div><span style="font-size: 18px; font-weight: bold;">Compute</span></div><div><span style="font-size: 18px; font-weight: bold;">Analytics</span></div><ul><li><span style="font-size: 14px;">Athena: Store files content into DBs </span></li><li><span style="font-size: 14px;">EMR: Elastic Map Reduce, </span></li><ul><li><span style="font-size: 14px;">Log analysis, web indexing (using hadoop and Apache Spaark) </span></li><li><span style="font-size: 14px;">Used for Big Data </span></li></ul><li>Cloud Search: Similar to Elastic Search, provided by AWS </li><li>Kinesis: a way of analyzing real time massive data (Social media streams…) </li><li>Data Pipeline: Move data from one place to an other (From S3 to DynamoDB…)</li><li>Quick Sight: Business analytic tool (In S3, DynamoDB) and provides dashboard</li></ul><div><span style="font-size: 18px; font-weight: bold;">AWS Global Infrastructure </span></div><ul><li>14 <span style="font-weight: bold;">Regions</span> &amp; 38 <span style="font-weight: bold;">AZ</span> - December 2016 </li><li>Regions is a geographical area, AZ are separated between each other</li></ul><div>    4 more regions &amp; 11 More AZ </div><div>    <span style="font-weight: bold;">Edge Location</span> is a CDN (Content Delivery Network) End Points for CloudFront </div><div>    There 66 Edge Location </div><div><br/></div><div>Tests:</div><ul><li><font color="#fe3401">Amazon data warehousing service</font> is called RedShift</li><li>S3 offers Object based storage </li></ul><div><br/></div><div><br/></div><div><span style="font-size: 18px; color: rgb(253, 1, 187);">Amazon EC2</span></div><ul><li>Elastic Compute Cloud</li><li>Amazon Elastic Compute Cloud is a web service that provides resizable compute capacity in the cloud. Amazon EC2 reduces the time required to obtain and boot new server instances to minutes, allowing you to quickly scale capacity, both up and down, as your computing requirements change. </li><li>EC2 Options:</li><ul><li>OnDemand: Allow you to pay a fixed rate by the hour (or second) with no commitment (for applications with unpredictable workload)</li><li>Reserved: Provide you with a capacity reservation, and offer a significant discount on the hourly charge for an instance. 1 hour or 3 year Terms. ability to make upfront payment</li><li>Spot: Enable you to bid whatever price you want for instance capacity, providing for even greater savings if your applications have flexible start and end times </li><ul><li>if you terminate the instance, you pay for the hour</li><li>Is AWS terminates the spot instance, you get the hour if was terminated in for free </li></ul><li>Dedicated Hosts: Physical EC2 server dedicated for your use. Dedicated Hosts can help you reduce costs by allowing you to use your existing server-bound software licences</li></ul><li> EC2 Instance Types:</li><li><br/></li><table style="width: 100%; border: none; border-collapse: collapse; table-layout: fixed;"><tbody><tr><td style="width: 17.146974063400577%; border: 1px solid rgb(219, 219, 219); padding: 10px; margin: 0px; min-width: 33.333333333333336%;"><div><span style="font-weight: bold;">Family</span></div></td><td style="width: 31.412103746397698%; border: 1px solid rgb(219, 219, 219); padding: 10px; margin: 0px; min-width: 33.333333333333336%;"><div><span style="font-weight: bold;">Speciality</span></div></td><td style="width: 51.29682997118156%; border: 1px solid rgb(219, 219, 219); padding: 10px; margin: 0px; min-width: 33.333333333333336%;"><div><span style="font-weight: bold;">Use cases</span></div></td></tr><tr><td style="border: 1px solid rgb(219, 219, 219); padding: 10px; margin: 0px;"><div>D2</div></td><td style="border: 1px solid rgb(219, 219, 219); padding: 10px; margin: 0px;"><div>Dense Storage</div></td><td style="border: 1px solid rgb(219, 219, 219); padding: 10px; margin: 0px;"><div>Fileservers/ Data Warehousing/ Hadoop</div></td></tr><tr><td style="border: 1px solid rgb(219, 219, 219); padding: 10px; margin: 0px;"><div>R4</div></td><td style="border: 1px solid rgb(219, 219, 219); padding: 10px; margin: 0px;"><div>Memory Optimized</div></td><td style="border: 1px solid rgb(219, 219, 219); padding: 10px; margin: 0px;"><div>Memory Intensive Apps/ DBs</div></td></tr><tr><td style="border: 1px solid rgb(219, 219, 219); padding: 10px; margin: 0px;"><div>M4</div></td><td style="border: 1px solid rgb(219, 219, 219); padding: 10px; margin: 0px;"><div>Generel Purpose</div></td><td style="border: 1px solid rgb(219, 219, 219); padding: 10px; margin: 0px;"><div>Application Servers</div></td></tr><tr><td style="border: 1px solid rgb(219, 219, 219); padding: 10px; margin: 0px;"><div>C4</div></td><td style="border: 1px solid rgb(219, 219, 219); padding: 10px; margin: 0px;"><div>Compute Optimized</div></td><td style="border: 1px solid rgb(219, 219, 219); padding: 10px; margin: 0px;"><div>CPU Intensive Apss/ DBs</div></td></tr><tr><td style="border: 1px solid rgb(219, 219, 219); padding: 10px; margin: 0px;"><div>G2</div></td><td style="border: 1px solid rgb(219, 219, 219); padding: 10px; margin: 0px;"><div>Graphics Intensive</div></td><td style="border: 1px solid rgb(219, 219, 219); padding: 10px; margin: 0px;"><div>Video Encoding/ 3D Application Streaming</div></td></tr><tr><td style="border: 1px solid rgb(219, 219, 219); padding: 10px; margin: 0px;"><div>I2</div></td><td style="border: 1px solid rgb(219, 219, 219); padding: 10px; margin: 0px;"><div>High Speed Storage IOPS</div></td><td style="border: 1px solid rgb(219, 219, 219); padding: 10px; margin: 0px;"><div>NoSQL, DBs, Data Warehousing</div></td></tr><tr><td style="border: 1px solid rgb(219, 219, 219); padding: 10px; margin: 0px;"><div>F1</div></td><td style="border: 1px solid rgb(219, 219, 219); padding: 10px; margin: 0px;"><div>Field Programmable Gate Array</div></td><td style="border: 1px solid rgb(219, 219, 219); padding: 10px; margin: 0px;"><div>Hardware acceleration for your code</div></td></tr><tr><td style="border: 1px solid rgb(219, 219, 219); padding: 10px; margin: 0px;"><div>T2</div></td><td style="border: 1px solid rgb(219, 219, 219); padding: 10px; margin: 0px;"><div>Lowest cost, General purpose</div></td><td style="border: 1px solid rgb(219, 219, 219); padding: 10px; margin: 0px;"><div>Web Servers/ Small DBs</div></td></tr><tr><td style="border: 1px solid rgb(219, 219, 219); padding: 10px; margin: 0px;"><div>P2</div></td><td style="border: 1px solid rgb(219, 219, 219); padding: 10px; margin: 0px;"><div>Graphics</div></td><td style="border: 1px solid rgb(219, 219, 219); padding: 10px; margin: 0px;"><div>Machine learning, Bit Coins Mining</div></td></tr><tr><td style="border: 1px solid rgb(219, 219, 219); padding: 10px; margin: 0px;"><div>X1</div></td><td style="border: 1px solid rgb(219, 219, 219); padding: 10px; margin: 0px;"><div>Memory Optimized</div></td><td style="border: 1px solid rgb(219, 219, 219); padding: 10px; margin: 0px;"><div>SAP HANA/ Apache Spark </div></td></tr></tbody></table><li><span style="font-weight: bold;">DR MC GIFT PX</span></li><li>EBS: Amazon EBS allows you to create storage volumes and attach them to Amazon EC2 instances. Once attached, you can create a file system on top of these volumes, run a database, or use them in any other way you would use a block device. Amazon EBS volumes are places in a specific AZ, where they are automatically replicated to protect you from the failure of a single component. </li><li><span style="font-weight: bold;">IOPS</span>: the requested number of IO operations per second that the volume can support </li><li>EMS Volume Types:</li><ul><li><span style="font-weight: bold;">General purpose</span> SSD (GP2) Up to 10000 IOPS</li><li><span style="font-weight: bold;">Provisioned IOPS SSD </span>(IO1) use if you need more than 10000 IOPS</li><li><span style="font-weight: bold;">Throughput Optimized HDD</span> (ST1) (Data warehouses, bigdata…) Frequently accessed workloads CANNOT BE USED AS BOOT VOLUME</li><li><span style="font-weight: bold;">Cold HDD</span> (SC1) less frequently accessed data, for “fileserver" CANNOT BE USED AS BOOT VOLUME</li><li>Magnetic (Standard): Lowest cost per gigabyte. Ideal for workloads where data is accessed infrequently</li></ul><li>You cannot mount 1 EBS volume to multiple EC2 instances, instead use <span style="font-weight: bold;">EFS</span></li><li>AMI: Amazon Machine Images</li><li>Steps to create an EC2 instance:</li><ul><li>Choose AMI</li><li>Choose instance type T2</li><li>configure instance (Network —VPC—, subnet —which AZ—, Shutdown behaviour — stop or terminate instance, </li><li>Add storage</li><li>Add tags</li><li>configure security groups (enable ports)</li></ul><li>Based monitoring, every 5 minute </li><li>Cant encrypt root volumes device for EC2 instances </li><li>Termination protection is turned off by default, you must turn it on </li><li>On an EBS-backed instance, the default action is for the root EBS volume to be deleted when the instance is terminated </li><li>The EBS root volume of your default AMI’s cannot be encrypted. You can also use a third party tool (such as bit locker etc) to encrypt the root volume, or this can be done when creating AMI’s in the AWS console or using the API </li><li>Additional volumes can be encrypted </li><li>Putty.gen to generate .ppk from .pem file and Putty </li><li>A <span style="font-weight: bold;">security group </span>is a virtual firewall </li><ul><li><span style="font-weight: bold;">chkconfig httpd on </span>: make sur httpd start when we reboot </li><li>If you are fixing a security group it will happen immediately </li><li>Security groups are STATEFUL:</li><ul><li>If you create an inbound rule allowing traffic in, that traffic is automatically allowed back out again </li></ul><li>default security group means any server can access other server from the same region </li><li>Possibility to have many security groups assigned to one EC2 instance </li><li>All inbound traffic is blocked by default </li><li>All outboud traffic is Allowed </li><li>You can have any number of EC2 instances within a security group </li><li><span style="color: rgb(14, 93, 228);">You cannot block specific IP addresses using Security Groups, instead use </span><span style="color: rgb(14, 93, 228); font-weight: bold;">Network Access Control </span><span style="color: rgb(14, 93, 228);">lists </span></li><li>You can allow rules, but cannot deny rules </li></ul><li>Update EBS from one storage media to an other: </li><ul><li>EX: Dev using General SSD or Magnetic and swtich for PROD to Provisioned SSD </li><li>Create volume from a Snapshot </li><ul><li>Create and attach a volume,</li><li><span style="font-weight: bold;">lsblk</span> to show newly created volume </li><li><span style="font-weight: bold;">mkfs -t ext4 dev/xvdb </span></li><li><span style="font-weight: bold;">mount /dev/xvdb /localFolder </span></li><li>Create snapshot, and create new volume based on that snapshot. Then mount that volume </li><li><span style="font-weight: bold;">file -s /dev/xvdb</span> to check if the volume has data in it, if the result is “data” then it’s empty </li><li>remove old volume </li><li>mount new volume to localFolder </li></ul><li>EBS volumes can be changed on the fly (except for magnetic standard)</li><li>Best practice to stop the EC2 instance and then change the volume </li><li>You can change volume types by taking a snapshot and then using the snapshot to create a new volume </li><li>If you change a volume on the fly you must wait for 6 hours before making another change </li><li>You can scale EBS volume volumes up only </li><li>Volumes must be in the same AZ as the EC2 instances </li><li>Volumes exists on EBS and <span style="text-decoration: underline;">Snapshots exist on S3</span></li><li><span style="color: rgb(253, 97, 3);">Snapshots are incremental</span>, and this means that only the blocks that have changed since your last snapshot are moved to S3 </li><li>Snapshots of encrypted volumes are encrypted automatically </li><li>Volumes restored from encrypted snapshots are encrypted automatically </li><li>You can share snapshots, but only if they are unencrypted </li><li>Instance Store Volumes are sometimes called Ephemeral Storage</li><li>Instance store volumes cannot be stopped. If the underlying host fails, you will lose your data </li><li>EBS backed instances can be stopped. You will not lose the data on the instance if it stopped </li><li>You can reboot both, you will not lose your data </li><li>How can I a snapshot of a <span style="color: rgb(252, 110, 5); font-weight: bold;">RAID Array</span>:</li><ul><li><span style="text-decoration: underline;">Problem</span> - Take a snapshot, the snapshot excludes data held in the cache by applications and the OS. This tends not to matter on a single volume, however using multiple volumes in a RAID array, this can be a problem due to interdependencies of the array </li><li>Solution: Take an application consitence snapshots: </li><ul><li>Stop the application from writing to disk</li><li>Flush all caches to the disk </li><ul><li>Freeze the file system </li><li>OR Unmount the RAID Array </li><li>OR Shutting down the associated EC2 instance </li></ul></ul></ul></ul><li>EFS: Elastic File System</li><ul><li>Amazon EFS is a file storage service for Amazon Elastic Cloud instances. Amazon EFS is easy to use and provides a simple interface that allows you to create and configure file systems quickly and easily. With Amazon EFS, storage <span style="font-weight: bold;">capacity is elastic, growing and shrinking automatically as you add and remove files</span>, so your applications have the storage they need, when they need it. </li><li>EFS Features:</li><ul><li>Supports the Network File System 4 (NFSv4) protocol</li><li>You only pay for the storage you use (no pre-provisionning required)</li><li>Can scale up to the petabytes</li><li>Can support thousands of concurrent NFS connections</li><li>Data is stored across multiple AZ’s within a region </li><li>Read After Write Consistency (As soon as you put your object to EFS, you can immediately read it)<span style="color: rgb(247, 71, 8);"> </span></li></ul></ul><li>AWS Command line </li><ul><li><span style="font-weight: bold;">aws configure</span> !! Pass Access Key ID &amp; Secret Access Key </li><li><span style="font-weight: bold;">aws help</span></li><li>aws ec2 describe-instances</li><li>aws ec2 describe-images</li><li>aws ec2 run-instances</li><li>aws ec2 run-instances --image-id <span style="color: rgb(17, 102, 187); border-top-left-radius: 2px; border-top-right-radius: 2px; border-bottom-right-radius: 2px; border-bottom-left-radius: 2px; padding: 1px 2px; cursor: pointer; font-family: &quot;Helvetica Neue&quot;, Roboto, Arial, sans-serif; font-size: 13px; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px;">ami-1a7f6d7e</span> --count 1 --instance-type <span style="color: rgb(68, 68, 68); font-family: 'Helvetica Neue', Roboto, Arial, sans-serif; font-size: 13px; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; float: none;">t2.micro</span> --key-name <span style="color: rgb(68, 68, 68); font-family: 'Helvetica Neue', Roboto, Arial, sans-serif; font-size: 13px; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; float: none;">MyEC2PrivKey</span> --security-group-ids <span style="font: 11.0px Menlo; font-variant-ligatures: no-common-ligatures;">sg-08e51c60</span><br/>The keyPair and SecurityGroup must exist</li><li>Create a bucket in s3 and upload on it, then download that file to your EC2 instance  <br/><span style="font-family: Menlo; font-size: 11px; font-weight: bold;">aws s3 cp s3://mysample-bucket-s3/index.html .</span></li><li>aws ec2 terminate-instances --instance-ids <span style="color: rgb(68, 68, 68); font-family: arial; font-size: 13px; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: nowrap; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; background-color: rgb(240, 249, 255); float: none;">i-0dfa64612747bc79b</span></li></ul><li>Identity Access Management Roles Lab</li><ul><li>Role types:</li><ul><li>AWS Service role: for every service there is a role associated </li><li>AWS service-linked role : </li><li>Role for cross-account access : Access other resources in other accounts </li><li>Role for identity provider access : EX: Facebook accounts to store data in DynamoDB </li></ul><li>Attach Roles to Amazon EC2 instance, No need to login to aws using “aws configure” </li><ul><li>Useful when you have many instances and if you have changed your credentials, no need to go through each instance and set new access keys</li></ul></ul><li>EC2 metadata: <span style="font-weight: bold;">curl </span><a style="font-weight: bold;" href="http://169.254.169.354/latest/meta-">http://169.254.169.354/latest/meta-</a><span style="font-weight: bold;">data/public-ipv4</span></li><li>ELB:</li><ul><li>Instances monitored by ELB are reported as: InService or OutofService</li><li>Heath Checks check the instance health by talking to it </li><li>Have their own DNS name, You are NEVER given an IP address </li><li>Application Load Balancer: makes rooting decisions at the application layer (HTTP/ HTTPS) support path-based rooting, and can root requests to one or more ports on each EC2 instance or container instance in your VPC</li><li>A Classic Load Balancer makes rooting decisions at either the transport layer (TCP/ SSL) or the application layer (HTTP/ HTTPS) ans supports either EC2 classic or VPC </li></ul><li>Known available SDKs: <a href="https://aws.amazon.com/tools">https://aws.amazon.com/tools</a> </li><ul><li>Android, iOS, Javascript</li><li>Java </li><li>.NET</li><li>NodeJS</li><li>PHP</li><li>Python</li><li>Ruby</li><li>Go </li></ul><li>When using SDKs, Default region may be setup and value is US-EAST-1</li><li>Summary:</li><ul><li>On Demand, Spot, Reserved, Dedicated Hosts </li><li>Remember spot instance:</li><ul><li>If you terminate the instance, you pay for the hour</li><li>If AWS terminates the spot instance, you get the hour it was terminated for free </li></ul><li>Standard monitoring = 5 minutes </li><li>Detailed monitoring: 1 minute </li><li>CloudWatch is for performance monitoring</li><ul><li>Creates awesome dashboards to see what is happening with your AWS environment </li><li>Allows you to set alarms that notify you when particular thresholds are hit</li><li>CloudWatch Events helps you to respond to state changes in your AS resources</li><li>Helps you to aggregate, monitor, and store logs </li></ul><li>CloudTrail is for auditing </li><li><span style="font-weight: bold;">5XX</span> means server side side error. </li><li><span style="font-weight: bold;">4XX</span> there has been a client side error</li><li><span style="font-weight: bold;">3XX</span> means there has been a redirection </li><li>In order to enable encryption at rest using EC2 and Elastic Block Store you need to configure encryption when creating the EBS volume </li><li>You can have multiple SSL on elastic Load Balancer </li><li>The EC2 instances under the autoscaling group are chargeable. But the autoscaling itself is not</li><li>Elastic Load Balancer is chargeable </li><li> </li></ul></ul><div><br/></div><div><span style="font-size: 18px; color: rgb(253, 1, 187);">Lambda</span></div><ul><li>What is Lambda: It is encapsulating “Data Center, Hardware, Assembly Code/ Protocols, High Level Languages, Operating Systems, App Layer, AWS API"</li><li>AWS Lambda is a compute service where you can upload your code and create a Lambda function, AWS Lambda takes care of provisioning and managing the servers that you use to run the code. You don’t have to worry about operating systems, patching, scaling, etc… You can use Lambda in the following ways: </li><ul><li>As an event-driven compute service where AWS Lambda runs your code in response to events. These events could be changes to data in an Amazon S3 bucket or an Amazon DynamoDB table </li><li>As a compute service to run your code in response to HTTP requests using Amazon API Gateway or API calls made using AWS SDKs. </li></ul></ul><div><br/></div><div><span style="color: rgb(253, 1, 187); font-size: 18px;">S3</span></div><ul><li>S3 provides developers and IT teams with secure, durable, high-scalable object storage. Amazon S3 is easy to use, with a simple web services interface to store and retrieve any amount of data from anywhere on the web </li><li>S3 is an Object Based Storage where you can store your files, and it’s not a place to install an OS or a DB; for that you need a <span style="font-weight: bold;">Block Based Storage </span></li><li>Files can be from 0 to 5 TB, unlimited storage </li><li>Files are stored in buckets (a Folder)</li><li>S3 is a universal namespace, names must be unique globally <br/><a href="https://s3-eu-west-1.amazonaws.com/acloudguru">https://s3-eu-west-1.amazonaws.com/acloudguru</a></li><li>Data consistency model for S3 </li><ul><li>Read after write consistency for PUTS of new objects (Immediate consistency) </li><li>Eventual consistency for overwrite PUTS and DELETES (can take sometime to propagates) </li><ul><li>Updates to S3 are atomic: Immediate READ might get new data or old data, you are not going to get a partion of data </li></ul></ul><li>S3 is a simple Key, value store (Key, value, Version ID, Metadata) </li><li>S3 used to store data in alphabetical order (this of adding random value to file names)</li><li>Amazon guarantee 99,99% availability </li><li>Amazon guarantee 99,999999999% durability for S3 information ( 11 * 9’s)</li><li><span style="color: rgb(252, 112, 5);">S3</span> supports versionning and encryption </li><li>data can be secured (access control, bucket policies) </li><li><span style="color: rgb(251, 107, 7);">S3 - IA</span> (Infrequently Accessed) for data that is accessed less frequently, but requires <span style="font-weight: bold;">rapid access when needed</span>. Lower fee than S3, but you are charged a retrieval fee</li><li><span style="color: rgb(251, 136, 6);">Reduced Redundancy Storage </span>- Designed to provide 99,99% durability and 99,99% availability of objects over a given year </li><li><span style="color: rgb(250, 117, 7);">Glacier </span>- Very cheap, but used for archival only. It takes 3 - 5 hours to restore from Glacier. 0,01$  per gigabyte <br/>No SLA for availability </li><li>S3 charged for: </li><ul><li>Storage </li><li>Requests </li><li>Storage management pricing </li><li>Data transfer pricing (data coming to S3 is free, but moving data from a region to an other will be charged for) </li><li>S3 Transfer Acceleration (upload data to London, user upload to the closest Edge location and then from edge location to London, moving data is accelerated)</li></ul><li>By default all buckets are private and ALL OBJECTS STORED INSIDE THEM ARE PRIVATE</li><li>Objects within a tag don’t inherits bucket tags  </li><li>Encryption: </li><ul><li>Client side encryption </li><li>Server side encryption</li><ul><li>Server side encryption with Amazon S3 Managed keys (SSE-S3)</li><li>Server side encryption with KMS (SSE-KMS)</li><li>Server side encryption with customer provided keys (SSE-C)</li></ul></ul><li>Control access to buckets using either ACL or Buckets Policies </li><li>URL of static web site hosting in S3: <a style="box-sizing: border-box; color: rgb(50, 154, 214); font-family: &quot;Helvetica Neue&quot;, Roboto, Arial, sans-serif; font-size: 14px; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; background-position: 0px center; background-repeat: initial initial;" href="http://ehayanis10.s3-website.eu-west-2.amazonaws.com">http://ehayanis10.s3-website.eu-west-2.amazonaws.com</a></li><li>Cross Origin Resource Sharing (CORS)</li><ul><li>A way of allowing one resource to access another one </li></ul><li>Build a Serverless webpage with API gateway &amp; Lambda </li><ul><li>User —&gt; WebSite —&gt; S3 —&gt; API Gateway —&gt; Lambda</li><li><span style="font-weight: bold;">Lambda Triggers: </span>API Gateway — AWS IoT — Alexa Skills Kit — Alexa Smart Home — Cloud Front — CloudWatch Events — CloudWatch logs — CodeCommit — Cognito Sync Trigger — DynamoDB — Kinesis — S3 — SNS </li></ul><li>Polly : Text speech Recognition Service</li><ul><li>Lab: a service that converts notes to mp3 </li></ul><li>In a bucket with versionning enabled, storage size is the sum of all versions </li><li>In S3, to restore an object, you need to switch to old UI and remove <span style="font-weight: bold;">"delete”</span> item</li><li>Once enabled, versionning cannot be disabled. it can only be suspended </li><li>Cross-region replication requires versionning enabled on source and destination bucket </li><li>Cross-region Replication by default copies only updated or newly added objects. To copy existing content, we use command line:<br/>aws s3 cp --recursive s3://firstBucket s3://secondBucket  </li><li>Delete markers are replicated </li><li>Delete individual versions or delete markers will not be replicated</li></ul><div><br/></div><div><br/></div><div><span style="color: rgb(253, 1, 187); font-size: 18px;">Cloud Front</span></div><ul><li>Cloud Front is a <span style="font-weight: bold;">Content Delivery Network</span> CDN is a system of distributed servers (network) that deliver webpages and other web content to a user based on the geographic locations of the user, the origin of the webpage and a content delivery server. <br/><img src="Summary.resources/Screen%20Shot%202017-10-29%20at%2017.46.38.png" height="558" width="1118"/><br/></li><li><span style="font-weight: bold;">Edge Location</span>: This is the location where content will be cached. This is SEPARATE to an AWS Region/ AZ</li><li><span style="font-weight: bold;">Origin</span>: This is the origin of all files tat the CDN will distribute. This can be either an S3 bucket, an EC2 Instance..</li><li><span style="font-weight: bold;">Distribution</span>: This is the name given to the CDN which consists of a collection of Edge Locations </li><ul><li>Web Distribution</li><li>RTMP: USed for MEdia Streaming</li></ul><li>Amazon CloudFront can be used to deliver your entire website, including dynamic, static, streaming, and interactive content using a global network of edge locations. Requests for your content are automatically routed to the NEAREST EDGE LOCATION, so content is delivered with the best possible performance </li><li>Amazon CloudFront works with any non-AWS origin server, which stores the original, definitive versions of your files </li><li>Edge Location are not just for READ Only, you can write to them too (ie put an object on to them)</li><li>Objects are cached for the life of the TTL </li><li>You can clear cached objects, but you will be charged</li><li>TTL are in seconds, </li><li>Watch out when setting TTL, by default it’s set for 24h, and if your objects are changing frequently you need to change that value. <br/>Because once it’s set it will be difficult to clear objects of the edge location. you can do it manually but you will charged for it </li><li>How to secure CloudFront objects in S3 and allow only paying customers use it, use presigned urls or signed cookies </li><li>Is a CloudFront distribution you can enable GEO-Restrictions, make a blacklist of countries </li><li><span style="font-weight: bold;">Invalidations Option</span>: allow to stop specific objects from being cached, instead of waiting until the end of TTL </li><li>S3 Transfer Acceleration utilises the CloudFront Edge Network to accelerate your uploads to S3. Instead of uploading directly to your S3 bucket, you can use a distinct URL to upload directly to an edge location which will then transfer that file to S3. You will get a distinct URL to upload <br/><a href="http://acloudguru.s3-accelerate.amazonaws.com">acloudguru.s3-accelerate.amazonaws.com</a> </li><li><br/></li></ul><div><br/></div><div><span style="color: rgb(253, 1, 187); font-size: 18px;">Security &amp; Encryption</span></div><ul><li>By default, all newly created buckets are PRIVATE </li><li>You can setup access control to your buckets using:</li><ul><li>Bucket Policies </li><li>Access control lists (By Objects) </li></ul><li>S3 buckets can be configured to create access logs which log all requests made to the S3 bucket. This can be done to another bucket </li><li>two types of encryption:</li><ul><li>In Transit: SSL/ TLS </li><li>At Rest: </li><ul><li>Server Side Encryption</li><ul><li>S3 Managed Keys: <span style="font-weight: bold;">SSE-S3</span> </li><li>AWS Key Management Service, <span style="font-weight: bold;">SSE-KMS</span>, additional Benefits (ability to know who is decrypting what), and additional Charges  </li><li>Server Side Encryption with Customer Provided Keys - <span style="font-weight: bold;">SSE-C</span> </li></ul><li>Client Side Encryption</li><ul><li>When you encrypt the data before uploading the data to S3 </li></ul></ul></ul></ul><div><br/></div><div><br/></div><div><span style="color: rgb(253, 1, 187); font-size: 18px;">Storage Gateway</span></div><ul><li>AWS Storage Gateway is a service that connects an on-permises software with cloud-based storage to provide seamless and secure integration between an organisation’s on-permises IT environment and AWS’s storage infrastructure. The service enables you to <span style="font-weight: bold;">securely store data to the AWS cloud </span>for scalable and cost-effective storage </li><li>Storage gateway is basically a virtual client </li><li>AWS Storage Gateway’s software appliance is available for download as a virtual machine image that you install on a host in your datacenter. <br/>Storage Gateway supports either <span style="font-weight: bold;">VMware ESXi or Microsoft Hyper-V</span></li><li>Based on <span style="font-weight: bold;">Direct Connect service</span>, which is a dedicated communication line between your datacenter and AWS </li><li>Four types of Storage Gateway </li><ul><li><span style="font-weight: bold;">File Gateway (NFS) </span>: store flat files in S3, word files, pdf… No OS or DB</li><ul><li>Files are stored as objects in your S3 buckets, accessed through a Network File System (NFS) mount point. Ownership, permissions, and timestamps are durably stored in S3 in the user-metadata of the object associated with the file. Once objects are transferred to S3, they can be managed as native S3 objects, and bucket policies such as <span style="text-decoration: underline;">versioning, lifecycle management, and cross-region replication</span> apply directly to objects stored in your bucket </li></ul><li><span style="font-weight: bold;">Volumes Gateway (iSCSI) </span>ie Hard disk with MySQL running on it </li><ul><li><span style="text-decoration: underline;">Stored Volumes </span>(store entire copy of dataset)<br/>- Let you store our primary data locally, while asynchronously backing up the data to AWS </li><li><span style="text-decoration: underline;">Cached Volumes</span> (keep only recent data locally and the rest of the data is backed of into Amazon)<br/>- Let you use S3 as your primary data storage while retaining frequently accessed data locally in your storage gateway. Cached volumes minimise te need to scale your on-permises storage infrastructure </li></ul><li><span style="font-weight: bold;">Tape Gateway (VTL) </span>allows to create virtual tapes and send the to AWS)</li><ul><li>Offers a durable, cost-effective solution to archive your data in the AWS Cloud <br/>Used for backup and uses popular backup applications like NetBackup, Backup Exec, Veam, etc </li></ul></ul></ul><div><br/></div><div><br/></div><div><span style="color: rgb(253, 1, 187); font-size: 18px;">Snowball</span></div><ul><li>AWS Import/Export Disk accelerated moving large amounts of data into and out of the AWS Cloud using portable storage devices for transport. <br/>AWS import/Export Disk transfers your data directly onto and off of storage devices using Amazon’s high-speed internal network and bypassing the Internet <br/>—&gt; Became it’s a nightmare to manage all type of devices </li><li><span style="font-weight: bold;">Snowball</span>: Snowball is a petabyte-scale data transport solution that uses secure appliances to transfer targe amounts of data into and out of AWS. Using Snowball addresses common challenges with large-scale data transfers including high network costs, long transfer times, and security concerns. </li><li><span style="font-weight: bold;">Snowball Edge</span>: is a 100TB data transfer device with on-board storage and compute capabilities. You can use Snowball edge to move large amounts of data into and out of AWS, as a temporary storage tier for large local datasets, or to <span style="font-weight: bold;">support local workload in remote or offline locations</span> (Can cluster to form a local storage tier and process your data on-permises, helping ensure your applications continue to run even when they are not able to access the cloud </li><li><span style="font-weight: bold;">Snowmobile</span>: Gigabytes, Terabytes, Petabytes, Exabytes<br/>It is a Exabyte-scale data transfer service used to move extremely large amounts of data to AWS. You can transfer up to 100PB per Snowmobile. a 45-foot long shipping container, pulled by a semi-trailer truck </li></ul><div><br/></div><div><span style="color: rgb(253, 1, 187); font-size: 18px;">DynamoDB</span></div><ul><li>Amazon DynamoDB is a fast and flexible NOSQL database service for all applications that need consistent, single-digit millisecond latency at any scale. It is a fully managed database and supports both document and key-value data models. </li><li>Stored on SSD storage </li><li>Spread Across 3 geographically distinct data centres </li><li>two data consistency models:</li><ul><li><span style="text-decoration: underline;">Eventual Consistent Reads</span> (Default)</li><ul><li>Consistency across all copies of data is usually reached <span style="font-weight: bold;">within a second</span>. Repeating a read after a short time should return the updated data </li></ul><li><span style="text-decoration: underline;">Strongly consistent reads </span></li><ul><li>A strongly consistent read returns a result that reflects all writes that received a successful response prior to the read </li></ul></ul><li>The basics of DynamoDB: </li><ul><li>Table</li><li>Item </li><li>Attributes</li></ul><li>Pricing: </li><ul><li>Provisioned Throughput Capacity</li><ul><li>Write throughput 0.0065$ per hour for every 10 units </li><li>Read Throughput 0.0065$ per hour for every 50 units </li></ul><li>First 25 Go stored per month is free </li><li>Storage costs of 0.25$ per month there after </li></ul><li> Two types of Primary keys available</li><ul><li><span style="font-weight: bold;">Single Attribute</span> (think of unique ID) — Partition key composed of one attribute </li><li><span style="font-weight: bold;">Composite</span> (think of unique ID and date range)  — Partition key and Sort key</li></ul><li>Partition Key: DynamoDB uses the partition key’s value as input to an internal hash function. The output from the hash function determines the partition (this is simply the physical location in which the data is stored) </li><li>Partition Key and Sort key: Two items can have the same partition key, but they must have a different sort key </li><li>All items with the same partition key are stored together, in sorted order by <span style="font-weight: bold;">sort key value</span> </li><li><span style="color: rgb(254, 86, 0);">Local Secondary Index</span>: </li><ul><li>Has the SAME Partition key (equal to primary key), different sort key. </li><li>Can only be created when you creating a table. They cannot be removed or modified later</li></ul><li><span style="color: rgb(254, 89, 0);">Global Secondary Index </span></li><ul><li>Has DIFFERENT Partition key (different for primary key) and different sort key</li><li>Can be created at table creation or they can be added later  </li></ul><li>DynamoDB Streams: Used to capture any kind of modification of the DynamoDB Streams</li><ul><li>If a new item is added to the table, the stream captures an image of the entire item, including all of its attributes </li><li>If an item is updated, the stream captures the “before” and “after” image of any attributes that were modified in the item </li><li>If an item is deleted from the table, the stream captures an image of the entire item before it was deleted </li></ul><li><span style="text-decoration: underline;">DynamoDB Streams stored for 24 hours, and useful to trigger lambda functions</span></li><li>Possible to have 5 LSI and 5 GSI per table </li><li>By default, a Query returns all of the data attributes for items with the specified primary key(s); however, you can use the <span style="font-weight: bold;">ProjectionExpression</span> parameter so that the Query only returns some of the attributes, rather than all of them </li><li><span style="font-weight: bold; text-decoration: underline;">Query</span> results are always sorted by the sort key. to reverse the order, set the <span style="font-weight: bold;">ScanIndexForward</span> parameter to <span style="font-weight: bold;">false</span> </li><li>A scan operation examines every item in te table. By default, a Scan returns all of the data attributes for every item; however, you can use the <span style="font-weight: bold;">ProjectionExpression</span> parameter so that the Scan only returns some of the attributes, rather than all of them </li><li>Generally, a Query operation is more efficient than a Scan operation</li><li>A <span style="font-weight: bold; text-decoration: underline;">Scan</span> operation always scans the entire table, then filters out values to provide the desired result, essentially adding the extra step of removing data from the result set. <span style="color: rgb(254, 30, 1);">Avoid using a Scan operation</span> on a large table with a filter that removes many results. If possible. Also, as a table grows, the Scan operation slows.</li><li><span style="text-decoration: underline;">REVIEW THIS PART: </span>DynamoDB Provisioned Throughput Calculations <br/><img src="Summary.resources/Screen%20Shot%202017-11-01%20at%2020.02.18.png" height="532" width="1216"/><br/><br/><img src="Summary.resources/Screen%20Shot%202017-11-01%20at%2020.04.36.png" height="508" width="1228"/><br/></li><ul><li>Unit of Read Provisioned Throughput </li><ul><li>All reads are rounded up to increments of 4 KB </li><li>Eventually Consistent Reads consist of 2 reads per second </li><li>Strongly Consistent Reads consist of 1 read per second </li></ul><li>Unit of Write provisioned throughput </li><ul><li>All writes are 1 KB </li><li>All writes consist of 1 write per second </li></ul></ul><li>404 HTTP Status Code: <span style="font-weight: bold;">ProvisionedThroughputExceededException</span>: </li><ul><li>You exceeded your maximum allowed provisioned throughput for a table or for one or more global secondary indexes <br/><br/></li></ul><li>You can authenticate users using <span style="font-weight: bold;">Web Identity providers </span>(such as Facebook, Google..) This is done using AssumeRoleWithWebIdentity API <br/><img src="Summary.resources/Screen%20Shot%202017-11-01%20at%2019.32.09.png" height="638" width="1302"/><br/></li><ul><li>User Authenticates with ID provider </li><li>They are passed a Token by their ID provider </li><li>Your code calls <span style="font-weight: bold;">AssumeRoleWithWebIdentity</span> API and provides the providers token and specifies the ARN for the IAM Role  </li><li>App can now access DynamoDB from between 15 minutes to 1 hour</li></ul><li><span style="font-weight: bold; text-decoration: underline;">Atomic Counter</span>: Are not idempotent and useful when margin of error are authorised </li><li><span style="font-weight: bold; text-decoration: underline;">Conditional writes </span>are idempotent. This means that you can send the same conditional write request multiple times, but it will have no further effect on the item after the first time DynamoDB performs the specified update <br/>Conditional write are safe  for critical data <br/><img src="Summary.resources/Screen%20Shot%202017-11-01%20at%2019.49.38.png" height="624" width="1070"/><br/></li><li><span style="font-weight: bold; text-decoration: underline;">Batch operations</span>: If your application needs to read multiple items, you can use the <span style="color: rgb(23, 138, 190);">BatchGetItem</span> API. <span style="text-decoration: underline;">A single BatchGetItem request can retrieve up to 1 MB of data</span>, which can contain as many as 100 items. In addition, a single BatchGetItem request can retrieve items from multiple tables </li></ul><div><br/></div><div><span style="color: rgb(253, 1, 187); font-size: 18px;">SQS</span></div><ul><li>SQS the first service that was launched </li><li>Amazon SQS is a web service that gives you access to a message queue that can be used to store messages while waiting for a computer to process them </li><li>Amazon SQS is a distributed queue system that enables web service applications to quickly and reliably queue messages that one component in the application generates to be consumed by another component. <span style="font-weight: bold;">A queue is a temporary repository for messages that are awaiting processing</span> </li><li>Using Amazon SQS you can decouple the components of an application so they run independently, with Amazon SQS easing message management between components. </li><li><span style="text-decoration: underline;">Message can contain up to 256 KB of text in any format</span>. Any component can later retrieve the messages programmatically using the Amazon SQS API </li><li><span style="text-decoration: underline;">The queue acts as a buffer </span>between the component producing and saving data, and the component receiving the data for processing. </li><li><span style="color: rgb(24, 137, 45);">This means the queue resolves issues that arise if the producer is producing work faster than the consumer can process it, or if the producer or consumer are only intermittently connected to the network</span> </li><li><span style="text-decoration: underline;">Amazon SQL ensures delivery of each message at least ONCE</span>, and supports multiple readers and writers interacting with the same queue. </li><li>A single queue can be used <span style="font-weight: bold;">simultaneously</span> by many distributed application components, with ne need for those components to coordinate with each other to share the queue </li><li><span style="font-style: italic; color: rgb(254, 76, 0);">SQS does not guarantee first in, first out delivery of messages</span>. For many distributed applications, each message can stand on its own, and as long as all messages are delivered, <span style="font-weight: bold;">the order is not important </span></li><li>If your system requires that order be preserved, <span style="color: rgb(12, 124, 236); font-style: italic;">you can place sequencing information in each message</span>, so that you can reorder the messages when the queue returns them </li><li><span style="font-weight: bold;">Visibility Timeout Clock:</span> How long the message is gonna be visible in the queue </li><li><span style="font-weight: bold;">Visibility Timeout period:</span> Only start when the application service pull the message (Complete only when it is deleted from the queue, and this could be done only during Visibility Timeout Period) </li><ul><li>Default Visibility Time Out is 30 Seconds </li><li>Maximum is 12 hours </li><li>When you receive a message from a queue and begin processing it, you may find the visibility timeout for the queue is insufficient to fully process and delete that message. To give yourself more time to process the message, you can extend its visibility timeout by using the <span style="font-weight: bold; color: rgb(18, 108, 245);">ChangeMessageVIsibility</span> action </li></ul><li>SQS Pricing: </li><ul><li>First 1 million Amazon SQS Requests per month are free </li><li>0.50$ per 1 million Amazon SQS Requests per month thereafter </li><li>A single request can have from 1 to 10 messages, up to a maximum payload of 256KB</li><li>Each 64 KB ‘chunk’ of payload is billed as 1 request. For example, a single API call with 256 KB payload will be billed as four requests </li></ul><li>SQS messages can be delivered multiple times and in any order </li><li><span style="font-weight: bold;">SQS long polling</span> is a way to retrieve messages from your SQS queues. While the traditional SQS short polling returns immediately, even if the queue being polled is empty, SQS long polling doesn’t return a response until a message arrives in the queue, or the long polling times out. <br/><span style="font-style: italic;">Maximun Long Poll Time Out = 20 seconds</span> </li><li>SQS - Fanning Out:</li><ul><li>Create an SNS topic using SNS. Then create and subscribe multiple SQS queues to the SNS topic </li></ul></ul><div><br/></div><div><span style="color: rgb(253, 1, 187); font-size: 18px;">SNS</span></div><ul><li>Simple Notification Service, it’s a web service that makes it easy to set up, operate, and send notifications from the cloud </li><li>It provides developers with a highly scalable, flexible, and cost-effective capacity to publish messages from an application and immediately deliver them to subscribers or other applications </li><li>Amazon SNS follows the “<span style="font-weight: bold;">Publish-Subscribe</span>” messaging paradigm, with notifications being delivered to clients using a”push” mechanism that eliminates the need to periodically check or “poll” for new notifications </li><li>To prevent messages from being lost, all messages published to Amazon SNS are stored redundantly across multiple availability zones </li><li>SNS allows you to group multiple recipients using <span style="font-weight: bold;">topics</span>. A topic is an “access point” for allowing recipients to dynamically subscribe for identical copies of the same notification </li><li>One topic can support deliveries to multiple endpoint types — for example, you can group together iOS, Android and SMS recipients. When you publish once to a topic, <span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">SNS delivers appropriately formatted copies of your message</span> to each subscriber </li><li>SNS :: Pay-as-you-go</li><li>SNS Pricing: </li><ul><li>Users pat 0.50$ per 1 million Amazon SNS requests </li><li>0.06$ per 100000 Notification deliveries over HTTP </li><li>0.75$ per 100 Notification deliveries over SMS </li><li>2.00$ per 100000 Notification deliveries over Email</li></ul><li>A subscriber has the ability to unsubscribe from a topic </li><li>SNS Used Protocols:</li><ul><li>HTTP, HTTPS, Email, Email-JSON, Amazon SQS, Application, AWS Lambda, SMS </li></ul></ul><div> </div><div><span style="color: rgb(253, 1, 187); font-size: 18px;">SWF</span></div><ul><li>Simple Workflow Service is a web service that makes it easy to coordinate work across distributed application components. Amazon SWF enables applications for a range of use cases, including media processing, web application back-ends, business process workflows, and analytics pipelines, to be designed as a coordination of tasks </li><li>Tasks represent invocations of various processing steps in an application which can be performed by executable code, web service calls, human actions, and scripts </li><li><span style="text-decoration: underline;">SWF workers:</span> are programs that interacts with amazon SWF tasks, <span style="color: rgb(9, 45, 243);">process received tasks, and return the results</span> </li><li><span style="text-decoration: underline;">SWF Decider</span>: is a program that control the coordination of tasks. <span style="color: rgb(8, 67, 242);">Their ordering, concurrency, and scheduling</span> according to the application logic </li><li>Amazon SWF stores tasks, assigns them to workers when they are ready, and monitors their progress. <span style="font-weight: bold;">It ensures that a task is assigned only once and </span><span style="font-weight: bold; color: rgb(246, 132, 15);">is never duplicated </span><span style="font-weight: bold;">(While in SQS task can be assigned multiple times, and may be ran many times)</span>. Since Amazon SWF maintains the applications state durably, workers and deciders don’t have to keep track of execution state. They can run independently, and scale quickly </li><li>Your workflow and activity types and the workflow execution itself are all scoped to a <span style="color: rgb(196, 236, 12);">DOMAIN</span>. Domains isolate a set of types, executions, and task lists from others within the same account </li><li><span style="text-decoration: underline;">Maximum workflow can be 1 year</span> and the value is always measured in seconds </li><li>SWF is a task-oriented API while SQS offers a message-oriented API </li><li>Amazon SWF keeps track of all the tasks and events in an application. With Amazon SQS, you need to implement your own application-level tracking, especially if your application uses multiple queues </li></ul><div><br/></div><div><span style="color: rgb(253, 1, 187); font-size: 18px;">Elastic Beanstalk </span></div><ul><li>With Elastic Beanstalk, you can deploy, monitor, and scale an application quickly </li><li>It provides developers or end users with the ability to provision application infrastructure in an almost transparent way </li><li><span style="color: rgb(22, 108, 181);">Elastic Beanstalk Providers:</span></li><ul><li>.Net (Windows/ IIS)</li><li>Packer </li><li>Preconfigured Docker: GlassFish, Go, Python </li><li>Generic: Docker, Multi-Container Docker </li><li>Apache Tomcat for Java applications </li><li>Apache HTTP Server for PHP applications </li><li>Apache HTTP Server for Python apps </li><li>Nginx or Apache HTTP Server for Node.JS apps </li><li>Passenger or Puma for Ruby apps </li><li>Java SE </li><li>Docker </li><li>Go</li></ul><li>It attempts to remove, or significantly simplify infrastructure management, allowing applications to be deployed into infrastructure environments easily </li><li><span style="text-decoration: underline;">Applications are at the high level structure in beanstalk </span></li><li>Applications can have multiple environments (Prod, Staging, Dev…)</li><li><span style="color: rgb(252, 207, 0);">Environments are either single instance or scalable </span></li><li>Environments are either web server environments or worker environments </li><li><span style="text-decoration: underline;">An application is uploaded to Elastic beanstalk as an application bundle or a zip file </span></li><li>Immutable deployments perform an immutable update to launch a full set of new instances running the new version of the application in a separate Auto Scaling group alongside the instances running the old version</li><li>When you terminate your environment, your database instance is also terminated. Possibility to create a snapshot of the database prior to termination </li><li>delete application will delete all resources provisioned with it </li><li>You can update your application </li><li>You can update your configuration </li><li>Updates can be 1 instance at a time, a % of instances of an immutable update </li><li>You pay for the resources that you use, but Elastic Beanstalk is free </li><li>If Elastic Beanstalk creates your RDS database then it will delete if when you delete your applications, if not the RDS instance stays <br/><br/></li><li><span style="color: rgb(51, 51, 51); font-family: AmazonEmber, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 14px; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; float: none;">with AWS Elastic Beanstalk, developers retain full control over the AWS resources powering their application</span></li><li><span style="color: rgb(51, 51, 51); font-family: AmazonEmber, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 14px; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; float: none;">AWS Elastic Beanstalk supports </span><span style="color: rgb(51, 51, 51); font-family: AmazonEmber, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 14px; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; float: none; font-weight: bold;">Java, .NET, PHP, Node.js, Python, Ruby, Go, and Docker,</span><span style="color: rgb(51, 51, 51); font-family: AmazonEmber, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 14px; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; float: none;"> and is ideal for web applications. However, due to Elastic Beanstalk’s open architecture, non-web applications can also be deployed using Elastic Beanstalk</span></li><li><span style="color: rgb(51, 51, 51); font-family: AmazonEmber, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 14px; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; float: none;">AWS Elastic Beanstalk is designed to support multiple running environments, such as one for integration testing, one for pre-production, and one for production</span></li><li><span style="color: rgb(51, 51, 51); font-family: AmazonEmber, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 14px; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; float: none;">You can create up to 75 applications and 1,000 application versions</span></li><li><span style="color: rgb(51, 51, 51); font-family: AmazonEmber, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 14px; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; float: none;">the default AWS account limits allow you to launch up to 20 EC2 instances and create up to 10 elastic load balancers</span></li><li><span style="color: rgb(51, 51, 51); font-family: AmazonEmber, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 14px; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; float: none;">If an Amazon EC2 instance fails for any reason, AWS Elastic Beanstalk will use Auto Scaling to automatically launch a new instance</span></li><li><span style="color: rgb(51, 51, 51); font-family: AmazonEmber, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 14px; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; float: none;">You can use Eclipse and Visual Studio to deploy your application to AWS Elastic Beanstalk</span></li><li><span style="color: rgb(51, 51, 51); font-family: AmazonEmber, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 14px; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; float: none;">AWS Elastic Beanstalk stores your application files and, optionally, server log files in Amazon S3</span></li><li><span style="color: rgb(51, 51, 51); font-family: AmazonEmber, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 14px; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; float: none;">By default, your application is available publicly at </span><a style="color: rgb(51, 51, 51); font-family: AmazonEmber, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 14px; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; float: none;" href="http://myapp.elasticbeanstalk.com">myapp.elasticbeanstalk.com</a><span style="color: rgb(51, 51, 51); font-family: AmazonEmber, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 14px; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; float: none;"> for anyone to access &gt;&gt; secure using VPC </span></li><li><span style="color: rgb(51, 51, 51); font-family: AmazonEmber, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 14px; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; float: none;">Y</span><span style="color: rgb(51, 51, 51); font-family: AmazonEmber, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 14px; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; float: none;">ou can opt-in to having your AWS Elastic Beanstalk environments automatically updated to the latest version of the underlying platform running your application during a specified maintenance window</span></li><li><span style="color: rgb(51, 51, 51); font-family: AmazonEmber, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 14px; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; float: none;">Elastic Beanstalk will not automatically perform major platform version updates (e.g., Java 7 Tomcat 7 to Java 8 Tomcat 8) because they include </span><span style="color: rgb(51, 51, 51); font-family: AmazonEmber, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 14px; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; float: none; font-weight: bold;">backwards incompatible changes</span><span style="color: rgb(51, 51, 51); font-family: AmazonEmber, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 14px; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; float: none;"> and require additional testing. In these cases, you must manually initiate the update.</span></li><ul><li><span style="color: rgb(51, 51, 51); font-family: AmazonEmber, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 14px; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; float: none;">PATCH: </span><span style="color: rgb(51, 51, 51); font-family: AmazonEmber, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 14px; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; float: none;">when there are backward-compatible bug fixes.</span></li><li><span style="color: rgb(51, 51, 51); font-family: AmazonEmber, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 14px; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; float: none;">MINOR: </span><span style="color: rgb(51, 51, 51); font-family: AmazonEmber, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 14px; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; float: none;">when there is additional functionality added in a backward-compatible manner.</span></li><li><span style="color: rgb(51, 51, 51); font-family: AmazonEmber, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 14px; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; float: none;">MAJOR: </span><span style="color: rgb(51, 51, 51); font-family: AmazonEmber, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 14px; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; float: none;">when there are incompatible changes.</span></li></ul><li><span style="color: rgb(51, 51, 51); font-family: AmazonEmber, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 14px; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; float: none; font-weight: bold;">A maintenance window</span><span style="color: rgb(51, 51, 51); font-family: AmazonEmber, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 14px; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; float: none;"> is a weekly two-hour-long time slot during which AWS Elastic Beanstalk will initiate platform updates</span></li><li><span style="color: rgb(51, 51, 51); font-family: AmazonEmber, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 14px; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; float: none;">There is no additional charge for AWS Elastic Beanstalk–you pay only for the AWS resources actually used to store and run your application</span></li><li><br/></li></ul><div><br/></div><div><span style="color: rgb(253, 1, 187); font-size: 18px;">Cloud Formation</span></div><ul><li><span style="text-decoration: underline;">Allows you to take what was once traditional hardware infrastructure and convert it into code </span></li><li>CloudFormation gives developers and systems administrators an easy way to create and manage a collection of related AWS resources, provisioning and updating them in an orderly and predictable fashion </li><li>YOU DON’T NEED to figure out <span style="text-decoration: underline;">the order for provisioning AWS services</span> or the subtitles of making those dependencies work. CloudFormation takes care of this for you </li><li>After the AWS resources are deployed, you can modify and update them in a controlled and predictable way, in effect applying version control to your AWS infrastructure the same way you do with your software </li><li><span style="font-weight: bold;">A CloudFormation Template</span> is essentially an architectural diagram and a <span style="font-weight: bold;">CloudFormation Stack</span> is the end result of that diagram (What is actually provisioned) </li><li>You create, update and delete a collection of resources by creating, updating and deleting stacks using CloudFormation templates </li><li>CloudFormation templates are in the JSON format or YAML </li><li>Elements of A Template</li><ul><li>Mandatory Elements:</li><ul><li>List of AWS Resources and their associated configuration values </li></ul><li>Optional Elements:</li><ul><li>The template’s file format &amp; version number </li><li>Template Parameter:</li><ul><li>The input values that are supplied at stack creation time Limit of 60</li></ul><li>Output Values:</li><ul><li>The output values required once a stack has finished building (such as the public IP address, ELB address, etc) Limit of 60 </li></ul><li>List of data tables </li><ul><li>Used t look up static configuration values suck as AMI’s Etc. </li></ul></ul></ul><li>Exemple of a simple Template: <br/><span style="font-style: italic; font-size: 13px; font-family: 'Courier New'; font-weight: bold;">{</span><br/><span style="font-style: italic; font-size: 13px; font-family: 'Courier New'; font-weight: bold;">  “Resources”: { </span><br/><span style="font-style: italic; font-size: 13px; font-family: 'Courier New'; font-weight: bold;">    “HelloBucket”: { </span><br/><span style="font-style: italic; font-size: 13px; font-family: 'Courier New'; font-weight: bold;">      “Type”: “AWS::S3::Bucket”</span><br/><span style="font-style: italic; font-size: 13px; font-family: 'Courier New'; font-weight: bold;">    }</span><br/><span style="font-style: italic; font-size: 13px; font-family: 'Courier New'; font-weight: bold;">  }</span><br/><span style="font-style: italic; font-size: 13px; font-family: 'Courier New'; font-weight: bold;">}</span></li><li>You can use <span style="font-weight: bold;">Fn:GetAtt</span> to output data </li><li><span style="color: rgb(68, 68, 68); font-family: 'Helvetica Neue', Roboto, Arial, 'Droid Sans', sans-serif; font-size: 14px; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; float: none; font-weight: bold;">A StackSet </span><span style="color: rgb(68, 68, 68); font-family: 'Helvetica Neue', Roboto, Arial, 'Droid Sans', sans-serif; font-size: 14px; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; float: none;">is a container for AWS CloudFormation stacks that lets you provision stacks across AWS accounts and regions by using a single AWS CloudFormation template.</span></li><li><span style="color: rgb(68, 68, 68); font-family: 'Helvetica Neue', Roboto, Arial, 'Droid Sans', sans-serif; font-size: 14px; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; float: none;">Possible to Have Nested Cloud Formation Templates </span></li><li><span style="color: rgb(68, 68, 68); font-family: 'Helvetica Neue', Roboto, Arial, 'Droid Sans', sans-serif; font-size: 14px; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; float: none;">If you already have AWS resources running,</span><span style="color: rgb(68, 68, 68); font-family: 'Helvetica Neue', Roboto, Arial, 'Droid Sans', sans-serif; font-size: 14px; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; float: none; font-weight: bold;"> the CloudFormer</span><span style="color: rgb(68, 68, 68); font-family: 'Helvetica Neue', Roboto, Arial, 'Droid Sans', sans-serif; font-size: 14px; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; float: none;"> tool can create a template from your existing resources. This means you can capture and redeploy applications you already have running.</span></li><li><span style="font-family: 'Helvetica Neue', Roboto, Arial, 'Droid Sans', sans-serif; font-size: 14px; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; float: none; color: rgb(68, 68, 68); text-decoration: underline;">By default, the “</span><span style="font-family: 'Helvetica Neue', Roboto, Arial, 'Droid Sans', sans-serif; font-size: 14px; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; float: none; color: rgb(22, 19, 193); text-decoration: underline;">automatic rollback on error</span><span style="font-family: 'Helvetica Neue', Roboto, Arial, 'Droid Sans', sans-serif; font-size: 14px; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; float: none; color: rgb(68, 68, 68); text-decoration: underline;">” feature is enabled </span></li><li><span style="color: rgb(68, 68, 68); font-family: 'Helvetica Neue', Roboto, Arial, 'Droid Sans', sans-serif; font-size: 14px; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; float: none;">You are charged for errors </span></li><li><span style="color: rgb(68, 68, 68); font-family: 'Helvetica Neue', Roboto, Arial, 'Droid Sans', sans-serif; font-size: 14px; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; float: none;">CloudFormation is free </span></li><li><span style="color: rgb(68, 68, 68); font-family: 'Helvetica Neue', Roboto, Arial, 'Droid Sans', sans-serif; font-size: 14px; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; float: none;">Stacks can wait for applications to be provisioned using the “</span><span style="color: rgb(68, 68, 68); font-family: 'Helvetica Neue', Roboto, Arial, 'Droid Sans', sans-serif; font-size: 14px; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; float: none; font-weight: bold;">WaitCondition</span><span style="color: rgb(68, 68, 68); font-family: 'Helvetica Neue', Roboto, Arial, 'Droid Sans', sans-serif; font-size: 14px; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; float: none;">” </span></li><li><span style="font-family: 'Helvetica Neue', Roboto, Arial, 'Droid Sans', sans-serif; color: rgb(68, 68, 68); font-weight: bold;">Route53</span><span style="font-family: 'Helvetica Neue', Roboto, Arial, 'Droid Sans', sans-serif; color: rgb(68, 68, 68);"> is completely supported. This includes creating new hosted zones or updating existing ones </span></li><li><span style="font-family: 'Helvetica Neue', Roboto, Arial, 'Droid Sans', sans-serif; color: rgb(68, 68, 68);">IAM Role creation and Assignment is also supported </span></li></ul><div><br/></div><div><span style="color: rgb(253, 1, 187); font-size: 18px;">Shared Responsibility Model </span></div><ul><li><a href="https://aws.amazon.com/whitepapers/aws-security-best-practices/">https://aws.amazon.com/whitepapers/aws-security-best-practices/</a></li><li>Could not SSH into the server hosting the DBs </li><li><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">A revoir </span>!! </li></ul><div><br/></div><div><span style="color: rgb(253, 1, 187); font-size: 18px;">Route53 &amp; DNS</span></div><ul><li>DNS is used to convert domain names (https://google.com) into an Internet Protocol Address </li><li>IP Addresses are used by computers to identify each other on the network. IP addresses commonly come in 2 different forms: IPv4 &amp; IPv6 </li><li>IPv6 was created to solve depletion (<span style="color: rgb(201, 179, 238);">Epuisement</span>) of IPv4 and has an address space of 128bits </li><li>.com/ .net/ .fr … ar called Top Level Domains </li><li>These<span style="font-weight: bold;"> top level domain</span> names are controlled by the Internet Assigned Numbers Authority (IANA) in a root zone database which is essentially a database of all available top level domains: <br/><a href="http://www.iana.org/domains/root/db">http://www.iana.org/domains/root/db</a> </li><li><span style="font-weight: bold;">A registrar</span> is an authority that can assign domain names directly under one or more top-level domains. These domains are registered with InterNIC a service of ICANN, which enforces uniqueness of domain names across the Internet. Each domain name become registered in a central database known as the WhoIS database </li><li>NS stands for <span style="font-weight: bold;">Name Server records</span> and are used by Top Level Domain servers to direct traffic to the Content DNS server which contains the authoritative DNS record </li><li><span style="font-weight: bold;">An “A” record</span> is the fundamental type of DNS record and the “A” in A record stands for “Address”. The “A” record is used by a computer to translate the name of the domain to the IP address </li><li><span style="font-weight: bold;"> TTL</span>: The Length that a DNS record is cached on either the Resolving Server or the users own local PC is equal to the value of the “Time To Live” in seconds. The lower the time to live, the faster changes to DNS records take to propagate throughout the internet </li><li><span style="font-weight: bold;">CNAME</span>: Canonical names, can be used to resolve one domain name to another. For example, you may have a mobile website with the domain name <a href="http://m.acloud.guru">http://m.acloud.guru</a> that is used for when users browse to your domain name on their mobile devices. You may also want the name <a href="http://mobile.acloud.guru">http://mobile.acloud.guru</a> to resolve to this same address </li><li><span style="font-weight: bold;">Alias records </span>are used to map resource record sets in your hosted zone to Elastic Load Balancers, CloudFront distributions or S3 buckets that are configured as web sites </li><li><span style="text-decoration: underline;">Alias records allows you to resolve a naked domain name, and you are not charged for it </span></li><li>Alias Records work like a CNAME record in that you can map one DNS name (www.example.com) to another ‘target’ DNS name (elb64.amazonaws.com) </li><li>CNAME can’t be used for named domain names (without www or called zone apex) </li><li>Alias resource record sets can save you time because Amazon Route53 automatically recognises changes in the record sets that the alias resource record set refers to </li><li>ELB doesn’t have an IP address, can be resolved through a DNS <br/>For example, suppose an alias resource record set for <span style="text-decoration: underline;">example.com</span> points to an ELB <span style="text-decoration: underline;">lb1.123.us-east-1.elb.amazonaws.com</span>. If the IP address of the ELB changes, <span style="color: rgb(22, 131, 184);">Amazon Route53 will automatically reflect those changes in DNS answer</span>s </li><li>Create a DNS and setup routing with Route53 </li><li>Route5S is a global service, no region </li><li>Route53 Routing Policies </li><ul><li><span style="font-weight: bold;">Simple</span> </li><ul><li>This is the default routing policy when you create a new record set. This is most commonly used when you have a single resource that performs a given function for your domain</li><li>Create a Record Set for each LB, and select <span style="text-decoration: underline;">Routing Policy = Simple</span> </li></ul><li><span style="font-weight: bold;">Weighted</span> </li><ul><li>Weighted Routing Policies allows you to<span style="text-decoration: underline;"> split your traffic based on different weights assigned</span>. </li><li>For example you can set 10% of your traffic go to US-EAST-1 and 90% to go to US-WEST-1</li></ul><li><span style="font-weight: bold;">Latency</span> </li><ul><li>Latency based routing allows you to route traffic based on <span style="text-decoration: underline;">the lowest network latency for your end user </span>(ie which region will give them the fastest response time)</li><li>To use latency-based routing you create a latency resource record set fr the Amazon EC2 (or ELB) resource in each region that hosts your website. When Amazon Route53 receives a query for your site, it selects a latency resource record set for the region that gives the user the lowest latency.</li><li>To change vpn: <span style="font-weight: bold;">vyprvpn</span> tool </li></ul><li><span style="font-weight: bold;">Failover</span></li><ul><li>Failover routing policies are used when you want to create an <span style="text-decoration: underline;">active/passive set up</span>. For example you may want your <span style="color: rgb(250, 98, 4);">primary</span> site to be in EU-WEST-2 and your <span style="color: rgb(251, 110, 3);">secondary</span> DR Site in AP-SOUTHEAST-2</li><li>Route53 will monitor the health of your primary site using a health check </li><li>A health check monitors the health of your endpoints </li><li>Do an Exemple: </li><ul><li>2 EC2 instances and CLB under LONDON REGION </li><li>1 EC2 instance and CLB under SYDNEY REGION </li><li>Create a domain name using Route53 </li><li>Create HealthCheck for each LB and for the website </li><li>Setup failover </li></ul></ul><li><span style="font-weight: bold;">Geolocation</span></li><ul><li>Geolocation routing lets you choose where your traffic will be sent<span style="text-decoration: underline;"> based on the geographic location of your users</span> (ie the location from which DNS queries originate). For example, you might want all queries from Europe to be routed to a fleet of EC2 instances that are specifically configured for your European customers. These servers may have the local language of your European customers and all prices are displayed in Euros </li></ul></ul><li>ELB don’t have pre-defined IPv4 addresses, you resolve to them using a DNS name </li><li>Understand the difference between an Alias Record and a CNAME (Always choose Alias Record, </li></ul><div><br/></div><div><span style="color: rgb(253, 1, 187); font-size: 18px;">VPC</span></div><ul><li><span style="color: rgb(7, 19, 245);">Amazon Virtual Private Network </span>lets you provision a <span style="font-weight: bold;">logically isolated section of the Amazon Web Services</span> Cloud where you can launch AWS resources in a virtual network that you define. <span style="color: rgb(18, 87, 210);">You have complete control over your virtual networking environment</span>, including selection of your own IP address range, creation of subnets, and configuration of route table and network gateway </li><li>You can easily customise the network configuration for your VPC. For example, you can create a public-facing subnet for you webservers that has access to the internet, and place your backend systems such as databases or application servers in a private-facing subnet with no Internet access. You can leverage multiple layers of security, including security groups and network access control lists, to help control access to Amazon EC2 instances in each subnet </li><li>Additionally, you can create a<span style="font-weight: bold;"> Hardware Virtual Private Network (VPN) connection between your corporate datacenter and your VPC</span> and leverage the AWS cloud as an extension of your corporate datacenter <br/><img src="Summary.resources/Screen%20Shot%202017-11-05%20at%2013.39.47.png" height="572" width="1214"/><br/></li><li><span style="color: rgb(242, 40, 9); font-weight: bold;">One subnet always equal to ONE AZ</span></li><li>On Internet Gateway can be attached to ONLY ONE VPC</li><li>What can you do with VPC? </li><ul><li>Launch instances into a subnet of your choosing </li><li>Assign custom IP address ranges in each subnet </li><li>Configure route tables between subnets </li><li>Create internet gateway and attach it to our VPC </li><li>Instance security groups </li><li>Subnet network access control lists (ACLs) </li></ul><li><span style="font-weight: bold;">Default VPC</span> is user friendly, allowing you to immediately deploy instances </li><li>All Subnets in default VPC have a route out to the internet </li><li>Each EC2 instance has both a public and private address </li><li><span style="text-decoration: underline;">If you delete the default VPC the only way to get it back is to contact AWS </span></li><li><span style="font-weight: bold;">VPC Peering</span> <span style="font-style: italic;">allows you to connect one VPC with another via a direct network route using private IP addresses </span></li><li>Instances behave as if they were on the same private network</li><li>You can peer VPC’s with other AWS accounts as well as with other VPCs in the same account </li><li>Peering is a star configuration, ie 1 central VPC peers with 4 others. <span style="color: rgb(255, 42, 0);">NO TRANSITIVE PEERING !!!</span><br/><img src="Summary.resources/Screen%20Shot%202017-11-05%20at%2013.56.09.png" height="476" width="824"/><br/><span style="color: rgb(17, 62, 43);">If we want VPC B to talk to VPC C we need to create a peering, it cannot talk to VPC C through VPC A </span>(transitive peering 😃 )</li><li>Security Groups are stateful, Network Access Control Lists are stateless </li><li>While creating a VPC you need to specify a <span style="font-weight: bold;">CIDR</span> (Classless Inter-Domain Rooting) block format to specify your VPC’s <span style="font-weight: bold;">IP address range </span></li><li>When a VPC is first created it does create a Route table, Network ACLs and a Security Group <br/><img src="Summary.resources/Screen%20Shot%202017-11-05%20at%2014.07.46.png" height="560" width="1094"/><br/></li><li>For each subnet that you create, three addresses are reserved by default </li><li>When you create a VPC, we recommend that you specify a CIDR block from the private IP address ranges as specified in RFC-1918:</li><ul><li>10.0.0.0 - 10.255.255.255 (10/8 prefix) </li><li>172.16.0.0 - 172.16.255.255 (172.16/12 prefix)</li><li>192.168.0.0 - 192.168.255.255 (192.168/16 prefix) </li></ul><li>The first four IP addresses and the last IP address in each subnet CIDR block are not available for you to use, and cannot be assigned to any instance. For example with CIDR block 10.0.0.0/24 the following five IP addresses are reserved: </li><ul><li>10.0.0.0</li><li>10.0.0.1</li><li>10.0.0.2</li><li>10.0.0.3</li><li>10.0.0.255c</li></ul><li>Using NAT Gateway <br/><img src="Summary.resources/Screen%20Shot%202017-11-05%20at%2015.43.02.png" height="590" width="1202"/><br/></li><li><span style="font-weight: bold;">NAT Gateway Vs; NAT Instances</span></li><li>When creating a NAT instance, Disable Source/ Destination check on the Instance </li><li>NAT instance must be in a public subnet </li><li>There must be a route out of the private subnet to the NAT instance, in order for this to work </li><li>The amount of traffic that NAT instances supports, depends on the instance size. If you are bottlenecking, increase the instance size </li><li>You an create high availability using Autoscaling Groups, multiple subnets in different AZ’s and a script to automate failover</li><li>Always Behind a Security Group</li><li>NAT Gateways:</li><ul><li>Scale automatically up to 10Gbps </li><li>No need to patch </li><li>Not associated with security groups </li><li>Automatically assigned a public IP address</li><li>Remember update  your route tables </li><li>No need to disable Source/Destination checks </li></ul><li><span style="font-weight: bold;">Security Groups Vs Network ACLs</span></li><li> Security Group is stateful: Return traffic is automatically allowed, regardless of any rules </li><li>Network ACL is stateless: Return traffic must be explicitly allowed by rules <br/><img src="Summary.resources/Screen%20Shot%202017-11-05%20at%2016.15.45.png" height="488" width="1044"/><br/><span style="color: rgb(95, 251, 4);">Required to put denied rules first </span></li><li>Your VPC automatically comes a default network ACL and by default it allows all outbound and inbound traffic </li><li>You can create a custom network ACL. By default, each custom network ACL denies all inbound and outbound traffic until you add rules </li><li>Each subnet in your VPC must be associated with a network ACL. If you don’t explicitly associate a subnet with a network ACL, the subnet is automatically associated with the default network ACL </li><li><span style="color: rgb(248, 105, 11);">You can associate a network ACL with multiple subnets; however, a subnet can be associated with only one network ACL at a time</span>. When you associate a network ACL with a subnet, the  previous association is removed </li><li>A network ACL contains a numbered list of rules that is evaluated in order, starting with the lowest numbered rule </li><li>A network ACL has separate inbound and outbound rules, and each rule can either allow or deny traffic </li><li>Network ACLs are stateless, responses to allowed inbound traffic are subject to the rules for outbound traffic </li><li><span style="font-weight: bold;">NAT Vs Bastion </span></li><ul><li>A NAT instance is used to provide internet traffic to EC2 instances in private subnets </li><li>A Bastion is used to securely administer EC2 instances (using SSH or RDP) in private subnets.</li></ul><li><span style="font-weight: bold;">Flow logs</span> enable you to capture IP traffic flow information for the network interfaces in your resources (Possible to associate it to Cloud Watch </li><li><br/></li></ul><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div></body></html>